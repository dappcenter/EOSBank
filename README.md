![EOSBank](https://github.com/eosonic/EOSBank/blob/master/image/banner.png)
 
   
## EOS Bank 柚资银行  
![Bank Stutas](https://github.com/eosonic/EOSBank/blob/master/image/open.png) 

柚资银行是EOS网络基础设施，它允许DApp开发者支付极少的利息获得大量CPU计算资源，这些利息将会支付给银行的所有储户，这些租赁交易通过智能合约执行。

### 需求分析
随着EOS生态的发展，EOS计算资源将会变得越来越昂贵，很多开发者的计算需求并不持续，往往存在短时间内爆发出大量计算需求。在世界杯/圣诞节期间，短期的促销需要大量计算资源，为了应对这样的需求，柚资银行作为EOS网络的基础设施，提供计算资源的短期快速租赁。

### 操作说明

##### 1. 租赁
使用任意EOS钱包，向合约账户：**eosiocpubank** 转入少量EOS，资源倍数请参阅下一章节**当前租赁价格**，合约将会自动为你计算租赁数量，并抵押EOS使你获得CPU计算资源，0.5秒后抵押到账。  
  
转账数量决定了获得CPU抵押的数量，例如：转入0.05个币将立即为你抵押15.283CPU资源，备注MEMO可以写入你需要的租赁时间，备注为空时，默认租赁24小时。备注写上“3d/7d”,将会自动为你抵押3天/7天,下图是使用钱包操作转账，这将立即获得15.283EOS的CPU资源维持3天：   
  
![rent](https://github.com/eosonic/EOSBank/blob/master/image/rent.png)
  
命令行操作：
  
> cleos transfer 你的账号 **eosiocpubank** "0.1 EOS" ""       
> cleos transfer 你的账号 **eosiocpubank** "0.1 EOS" "3d"      
> cleos transfer 你的账号 **eosiocpubank** "0.1 EOS" "7d" 
  
提醒：由于EOS网络存在大量发送0.0001个EOS的广告行为，柚资银行目前支持的最低租赁发送0.01 EOS，我们推荐发送0.05，使你获得15.283个EOS的CPU计算资源。

### 当前租赁价格

发送 | 获得资源 | 租赁持续 | 
------------ | -------------|-------------
0.1 EOS | 30.4166 EOS CPU | 1天 | 
0.1 EOS | 24.3333 EOS CPU | 3天 | 
0.1 EOS | 18.2500 EOS CPU | 1周 | 

### 动态储蓄模型
合约eosiocpubank支持储蓄你的EOS币到银行，每当有任意租单成交，我们会立即分红给每一个储蓄的账号。

为了保持储蓄的收益率稳定，我们限制了储蓄池的大小，当合约eosiocpubank的unstaked小于5000.0000EOS，合约将会自动开放存款功能，这被视为银行缺乏资金需要补充，你可以转账大于10个EOS币到合约，在备注MEMO里写入“deposit”（没有双引号）。这将会被记录为存款。

相反的，每当合约 eosiocpubank的unstaked大于5000.0000个EOS，合约自动关闭存款功能，你将会无法把EOS币发送给银行，任何在备注内包含deposit的转账将会被系统自动拒收。我们以此来保持银行资金池的大小在合适的状态，以防止由于存款过多导致所有储户的收益率下降。

### 分红结算模型

一笔租赁交易达成收到的利息为L，我们将会对当前储蓄资产进行快照，设定平台储蓄总余额为N，某客户储蓄为A，则客户根据储蓄数量A，此次租赁立即获得A/N**L**利息分红。  

你存款利息的总收入受到动态的出租率影响，假设平台有1万个EOS币，你储蓄了5000个，当我们出租出去7500个时候，你获得的实际利息是22.5%，也即，设定利率**乘以**出租率=实际利率。

实际计算展示：
我们收到一笔10个币的租赁请求，计算平台目前unstaked是5000个币，储户在平台存储了100个币，则A/NL=100储蓄/5000总额X10利息=0.2EOS,即：用户由于这一笔租赁立刻收到0.2个币的分红，每次出租我们都根据当前快照结算一次分红。这种快照型分红跟租赁利率没有任何关系。

### 查询你的储蓄和分红

使用命令行模式：  

>cleos get table **eosiocpubank** 你的账号 deposit    
  
如果你没有EOS软件，也没有Cleos命令的发送工具，请执行以下动作查询你的存款；
1. 打开API查询网站 http://apirequest.io/
2. 选择post，在URL一栏输入https://api.eosnewyork.io/v1/chain/get_table_rows
3. 在Request Body一栏输入：{"json":"true","code":"eosiocpubank","scope":"这里输入你的EOS存款账号","table":"deposit"}
4. 点击Send One
5. 等待几秒后，在Body里，amount会显示储蓄余额+分红数值，图例为显示了账号cpubankfound的余额，请更改为你的账号。  
  
![EOSBank](https://github.com/eosonic/EOSBank/blob/master/image/deposit.png)  
### 提现和查询提现进度：
 
如你需要提现你的存款，柚资银行仅支持一次性提取所有余额+分红，方法是，请使用任意EOS钱包发送0.0001个EOS币到柚资银行eosiocpubank即可进入提现队列，注意，请勿写入任何备注MEMO，根据EOS网络设定，解除抵押需要等待3天，合约将在3天后自动发送你所有的EOS币到你的账号，使用命令行来提现：
  
> cleos transfer 你的账号 **eosiocpubank** "0.0001 EOS" ""    
  
提现命令发送后，使用命令行模式查询提现进度：  
  
>cleos get table **eosiocpubank** 你的账号 refunds  

如果你没有EOS软件，也没有Cleos命令的发送工具，请执行以下动作查询你的提现进度；
  
1. 打开API查询网站 http://apirequest.io/
2. 选择post，在URL一栏输入https://api.eosnewyork.io/v1/chain/get_table_rows
3. 在Request Body一栏输入：{"json":"true","code":"eosiocpubank","scope":"这里输入你的EOS存款账号","table":"refunds"}
4. 点击Send One
5. 等待几秒后，在Body里，request_time会显示还有多久你的提现会到达你的账户。

### 解除提现申请

如果你在提现命令发送后的72小时内想要取消你的提现，请使用任意EOS钱包发送0.0002个EOS币到柚资银行eosiocpubank即可取消你的提现请求，注意，请勿写入任何备注MEMO，你也可以使用命令行来取消提现命令，这是立即生效的，你将会立即参与下一次租单的分红并获得收益。

> cleos transfer 你的账号 **eosiocpubank** "0.0002 EOS" ""      

### 柚资银行优势

- #### 强大的资本充足率
柚资银行拥有充足的固定资本，同时吸收EOS小额储蓄，我们支持客户以大于10个EOS的数量储蓄自己的EOS币，我们会把利息收入返还给储蓄者。多样的资金来源，强大的资本保证，充分保障快速变化的租赁需求。

- #### 全自动执行租赁订单
采用智能合约响应租赁请求，任何人可以发送EOS币到合约账户**eosiocpubank**，系统按照当前价格立即租赁CPU给发送的客户。

- #### 先进的租赁周期算法
同时满足客户的临时性资源需求和长周期资源租赁需求，智能合约按照需求的周期自动报价。

- #### 全自动动态高流动性资产委托池
全自动的资金池控制模型，全自动的快速委托秒级抵押和反抵押，如此快速的业务模型使得合约的运行非常繁忙，一系列动态的金融模型，使得柚资银行储蓄资本会拥有极高的周转率，同时收益率达到最高状态的同时租赁价格反而很低。这将给储蓄者带来高额回报，同样也降低了使用者的价格。

- #### 实名制的合约开发者
为了保持资金安全，对于大型储户，我们使用了账号权限隔离机制，合约eosiocpubank不拥有transfer EOS币的权限，这从根本上杜绝了大资金的被盗，同时，我们公开了团队开发者的身份信息以供查询。

### 银行打烊时间 
就像传统银行需要结算一样，柚资银行在每天的UTC16:00-UTC16:01将会打烊一分钟时间，在这个打烊的时间段内，合约会自动拒绝所有租赁需求。柚资银行的智能合约开始自我审查这一天的所有动作，生成报表以供人工审核分析银行的业务状态。

### 常见问题  
- 为什么我需要租赁CPU而不是购买？   
大部分人并不是每天都需要CPU资源，在短时间内爆发出的CPU需求将会占用大量资金，我们提供1天/3天/1周的短期租赁合约，假设世界杯来临而你需要发送广告，那么发送1个EOS币将会给你提供304.1个币的CPU资源并维持一整天，你无须抵押304.1个EOS并且等待长达3天的赎回期。你甚至可以仅仅发送0.01个币而获得3.041个币的计算资源。
  
- 我可以给其他账号租赁CPU资源吗？  
当然可以，如果你在MEMO备注里写入账号名称，我们将会把资源抵押在你写的这个账号上，目前仅仅支持12位长度的账号。

- 我使用完毕了，我需要归还什么吗？  
你不需要任何操作，智能合约会在租赁到期后自动收回资源。
  
- 我是客户，你们账户余额是0，我无法租赁资源是怎么回事？  
每一家银行都不是无限资本，在EOS区块链浏览器上搜索账号EosioCpuBank，将会显示柚资银行当前已租赁多少EOS币，银行还剩余多少EOS币可以提供给客户租赁。当账号余额显示为0，柚资银行全部资金都已经被租赁，暂时没有资源可以租赁给客户，我们讲尽快补充资本为客户服务。
  
- 如何更划算的租赁CPU？  
租赁周期越长租赁花费越低，很显然，租赁一周要比租赁7个1天的花费少得多。这在酒店业都是如此，长期订房显然比只住一天要便宜的多。当然，如果你不需要租赁那么久，依然是需要用的时候临时租赁更加划算。

- 为什么我无法存款？转账失败了。
柚资银行采用业内领先的动态储蓄模型，当柚资银行的资本超过5000.0000EOS之后，柚资银行自动拒绝客户储蓄，任何人无法发送EOS币到合约账户，反之当银行资金池小于5000.0000的时候，储蓄合约自动开启。你将可以发送EOS存储，但请注意，你发送的数量无法使柚资银行的资金池大于5000.0000.
  	
### 开源方式 
- 合约hash：6d5b1df36c76446542689e6f8c6b956373326961c09232149dbd3710abeed6cb
- 柚资银行的合约操作流程和功能已尽详，已属于半开源模式，就像所有的传统银行不会放开参观银行内部的风控模型一样，我们仅会将代码提交Block.one审阅。
- 如需详细资料，[请点击查看](https://eospark.com/MainNet/contract/eosiocpubank)合约ABI接口。 
- 等待Block.one官方合约审查系统, 我们将立即提交实名制和代码安全双重审查。 

### 联系方式  
- EOSonic@outlook.com 
- Wechat@eosiobank/auoka-

#### 柚资银行是虎符钱包旗下DApp 详情参阅https://hoo.com/

---
![EOSBank](https://github.com/eosonic/EOSBank/blob/master/image/EOSBank.png)
